{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAoEA,SAASC,EAAcC,EAAUC,GAC7B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAEzB,IAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,WACHH,EAEAF,EAAQ,CAACH,SAAAA,EAAUC,MAAAA,IAGnBG,EAAO,CAACJ,SAAAA,EAAUC,MAAAA,MAEvBA,OA/EE,CACTQ,KAAMC,SAASC,cAAc,WAI5BF,KAAKG,iBAAiB,UAe3B,SAAsBC,GAClBA,EAAMC,iBAEN,IAAMC,EAAW,GAEG,IAAIC,SAASH,EAAMI,eAG3BC,SAAQ,SAACC,EAAOC,GACxBL,EAASK,GAAQD,KAErBE,QAAQC,IAAIP,GASR,IAL+B,IAA/BQ,EAAQC,OAAOT,EAASd,OACtBwB,EAASD,OAAOT,EAASU,QACzBC,EAAOF,OAAOT,EAASW,MAGpBC,EAAI,EAAGA,EAAIF,EAAQE,GAAK,EAAG,CAMb5B,EAJF4B,EAAE,EAICJ,GAAOK,MAAK,SAAAC,OAAG7B,EAAQ6B,EAAR7B,SAAUC,EAAK4B,EAAL5B,MAE/CJ,EAAAiC,OAAKC,QAAS,uBAAuCC,OAAfhC,EAAS,QAAYgC,OAAN/B,EAAM,UAE9DgC,OAAM,SAAAJ,OAAG7B,EAAQ6B,EAAR7B,SAAUC,EAAK4B,EAAL5B,MAEhBJ,EAAAiC,OAAKI,QAAS,sBAAsCF,OAAfhC,EAAS,QAAYgC,OAAN/B,EAAM,UAKrDsB,GAASG","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n    form: document.querySelector('.form'),\n}\n\n\nrefs.form.addEventListener('submit', onFormSubmit);\n////delay\n////step - delay+=step on every iteration\n/////amount - (of iterations)\n////position - number of iertation (from 1)\n\n///1-2-3\n//get input from formData\n//iteration amount times\n//make promise\n//increase delay on+step\n//notiflix\n\n  ////Functions\n\nfunction onFormSubmit(event) {\n    event.preventDefault();\n\n    const formData = {};\n\n    const formDataRaw = new FormData(event.currentTarget);\n\n    ///перебір масиву формдати і додавання елементів в об'єкт\n    formDataRaw.forEach((value, name) => {\n        formData[name] = value;\n    })\n    console.log(formData);\n\n\n    ///приведення інпуту до числового значення\n    let delay = Number(formData.delay);\n    const amount = Number(formData.amount);\n    const step = Number(formData.step);\n\n    ////Цикл\n    for (let i = 0; i < amount; i += 1) {\n        ///встановлення позиції по-порядку від одиниці, а не від 0\n        const position = i+1;\n\n\n            ////виклик функції з промісами\n    createPromise(position, delay).then(({ position, delay }) => {\n    // console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  })\n  .catch(({ position, delay }) => {\n    // console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n        \n        \n        ///збільшення затримки на крок степ після виконання функції\n           delay += step;\n        \n    }\n \n}\n\n\n\n\nfunction createPromise(position, delay) {\n    return new Promise((resolve, reject) => {\n\n        const shouldResolve = Math.random() > 0.3;\n        \n        setTimeout(() => {\n            if (shouldResolve) {\n                // Fulfill\n                resolve({position, delay});\n            } else {\n                // Reject\n                reject({position, delay});\n            }\n        }, delay);\n        \n    });\n\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","form","document","querySelector","addEventListener","event","preventDefault","formData","FormData","currentTarget","forEach","value","name","console","log","delay1","Number","amount","step","i","then","param","Notify","success","concat","catch","failure"],"version":3,"file":"03-promises.0db17091.js.map"}